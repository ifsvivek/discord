(function(t,f,g,h,v,o,e,a,s){"use strict";const{ScrollView:m}=s.General,{FormSection:D,FormRow:n}=s.Forms;function B(){return e.React.createElement(m,null,e.React.createElement(D,null,e.React.createElement(n,{label:"Discord Server",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("Discord")}),trailing:n.Arrow,onPress:function(){return e.url.openDeeplink("https://discord.gg/PYYvU3qnMv")}}),e.React.createElement(n,{label:"Reload DB",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("ic_message_retry")}),onPress:async function(){return await i()?o.showToast("Reloaded DB",a.getAssetIDByName("check")):o.showToast("Failed to reload DB",a.getAssetIDByName("small"))}})))}const w=g.findByProps("default","getUserBannerURL");let r,l;const i=async function(){try{return r=await(await v.safeFetch("https://raw.githubusercontent.com/ifsvivek/discordpfp/main/main.json",{cache:"no-store"})).json(),r}catch(c){f.logger.error("Failed to fetch userBG data",c)}},R=async function(){if(await i(),!r)return o.showToast("Failed to load DB");l=h.after("getUserBannerURL",w,function(c){let[d]=c;const u=r?.find(function(U){return U.uid===d?.id});if(d?.banner===void 0&&u)return u.img})},y=function(){return l?.()},F=B;return t.fetchData=i,t.onLoad=R,t.onUnload=y,t.settings=F,t})({},vendetta,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.ui.toasts,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components);
