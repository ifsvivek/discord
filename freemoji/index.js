(function(a,t,n,r,c,j,S){"use strict";const d=n.findByProps("canUseEmojisEverywhere");var g=[r.instead("canUseEmojisEverywhere",d,function(){return!0}),r.instead("canUseAnimatedEmojis",d,function(){return!0})];const{getCustomEmojiById:E}=n.findByStoreName("EmojiStore"),{getGuildId:v}=n.findByStoreName("SelectedGuildStore"),y=/<a?:(\w+):(\d+)>/i;function z(e,i){const o=e.matchAll(/<a?:(\w+):(\d+)>/gi),u=[];for(const f of o){const s=E(f[2]);(s.guildId!=v()||s.animated)&&(e=e.replace(f[0],""),u.push(`${s.url.split("?")[0]}?size=${i}`))}return{newContent:e.trim(),extractedEmojis:u}}function m(e){if(!e.content.match(y))return;const{newContent:i,extractedEmojis:o}=z(e.content,t.storage.emojiSize);e.content=i,o.length>0&&(e.content+=`
`+o.join(`
`)),e.invalidEmojis=[]}const w=n.findByProps("sendMessage","receiveMessage"),b=n.findByProps("uploadLocalFiles");var h=[r.before("sendMessage",w,function(e){return m(e[1])}),r.before("uploadLocalFiles",b,function(e){return m(e[0].parsedMessage)})];const{FormSection:l,FormRadioRow:R}=j.Forms,B={Tiny:16,Small:32,Medium:48,Large:64,Huge:96,Jumbo:128},$="https://cdn.discordapp.com/emojis/926602689213767680.webp";function p(){return S.useProxy(t.storage),React.createElement(c.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(l,{title:"Emoji Size",titleStyleType:"no_border"},Object.entries(B).map(function(e){let[i,o]=e;return React.createElement(R,{label:i,subLabel:o,selected:t.storage.emojiSize===o,onPress:function(){t.storage.emojiSize=o}})})),React.createElement(l,{title:"Preview"},React.createElement(c.ReactNative.Image,{source:{uri:`${$}?size=${t.storage.emojiSize}`,width:t.storage.emojiSize,height:t.storage.emojiSize}})))}t.storage.emojiSize??=48,typeof t.storage.emojiSize=="string"&&(t.storage.emojiSize=parseInt(t.storage.emojiSize));const P=[...g,...h],F=function(){return P.forEach(function(e){return e()})};return a.onUnload=F,a.settings=p,a})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
